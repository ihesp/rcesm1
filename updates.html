

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Issues or processes for updates &mdash; Sphinx-Themes template 1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Sphinx-Themes template 1 documentation" href="index.html"/>
        <link rel="next" title="Known Issues, Troubleshooting, and Future Work" href="unfinished.html"/>
        <link rel="prev" title="Development Changes Made by NCAR" href="dev_changes.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Sphinx-Themes template
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="downloading_cesm.html">Downloading RCESM</a></li>
<li class="toctree-l1"><a class="reference internal" href="cesm_configurations.html">RCESM Configurations</a></li>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quick Start (RCESM Model Workflow)</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_vers.html">Software Versions and Sourcing</a></li>
<li class="toctree-l1"><a class="reference internal" href="dev_changes.html">Development Changes Made by NCAR</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Issues or processes for updates</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#wrf-updates">WRF Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#roms-updates">ROMS Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#clm-updates">CLM Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#cime-updates">CIME Updates</a></li>
<li class="toctree-l2"><a class="reference internal" href="#updating-this-document">Updating This Document</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="unfinished.html">Known Issues, Troubleshooting, and Future Work</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Sphinx-Themes template</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Issues or processes for updates</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/updates.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="issues-or-processes-for-updates">
<span id="updates"></span><h1>Issues or processes for updates<a class="headerlink" href="#issues-or-processes-for-updates" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>Each of the components for this model will be developed by their independant working groups, and updates will need to be periodically performed in our model to take advantage of new features, bug fixes, and machine support in a component update. In order to do updates, certain issues will need to be addressed, as described here.</p>
</div></blockquote>
<div class="section" id="wrf-updates">
<h2>WRF Updates<a class="headerlink" href="#wrf-updates" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>While the NCAR integration of the TAMU WRF model did not make many changes to the actual WRF source, yet, there is currently work going on to fix surface-level instabilities in wind fields that will make changes to the source. In addition, there seems to be many change in the WRF code that were made by software engineers at TAMU. All of these changes may or may not need to be propagated forward to newer versions of WRF. This will likely be the most difficult part of any upgrade to the WRF code base in this model. Also, changes should be made to the namelist and build scripts in our model to make them more flexible and resilient to future upgrades. This is discussed further in Section 6.</p>
</div></blockquote>
</div>
<div class="section" id="roms-updates">
<h2>ROMS Updates<a class="headerlink" href="#roms-updates" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Similar to WRF, our project did not make many changes to the ROMS code base. However, it is possible (likely, even) that TAMU made some changes to ROMS in the distribution given to us. These changes may or may not need to be propagated forward to new versions of ROMS. Based on my (limited) browsing of the ROMS code in this distribution, there are not as many RCESM specific additions to the ROMS code base as there are to WRF, so it is likely ROMS updates would be much easier. Also, as in WRF, changes should be made to the namelist and build scripts in our model to make them more flexible and resilient to future upgrades. This is discussed further in Section 6.</p>
</div></blockquote>
</div>
<div class="section" id="clm-updates">
<h2>CLM Updates<a class="headerlink" href="#clm-updates" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The RCESM uses CLM version 4.0 because earlier versions of similar models did as well, but this is not a good version to use going forward as it is no longer supported by the land model working group. Current releases of the CLM code do not even include the CLM 4.0 code base any more. Scripts and tools to create domain and surface data files have been removed, and most of these do not work on Cheyenne, with no plans to update them to work on modern machines. So updating to a modern version of CLM (perhaps 5.0) should be a relatively high priority. The good news is that very few changes were made to the CLM source code during the creation of the RCESM, so updating should be pretty straight forward. However, an updated version of CLM will likely need an updated version of CIME as well, and that process is discussed in the next section.</p>
</div></blockquote>
</div>
<div class="section" id="cime-updates">
<h2>CIME Updates<a class="headerlink" href="#cime-updates" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>Currently, the Master branch of the RCESM code repository points to the CIME code base as an external repository. The external used is my personal fork (<a class="reference external" href="https://github.com/Katetc/cime">https://github.com/Katetc/cime</a>). Going forward, this is probably not the best way to handle the CIME code, as I am no longer working on this project. The best way to manage the CIME code would probably be to create a branch off the main CIME repository, with our changes added in. Eventually, the goal would be to have our changes incorporated into the main CIME distribution, so we would not need to stay separated at all. The goal should be to import the latest CIME release as an external each time the code is cloned. The current changes to CIME for RCESM are minor, so doing a pull request to get them integrated would be more of a discussion of priorities than of difficulties.</p>
</div></blockquote>
</div>
<div class="section" id="updating-this-document">
<h2>Updating This Document<a class="headerlink" href="#updating-this-document" title="Permalink to this headline">¶</a></h2>
<p>The source files for this webiste and the RCESM documentation are contained within the GitHub repository at: <a class="reference external" href="https://github.com/NCAR/TAMURegionalCESM">https://github.com/NCAR/TAMURegionalCESM</a> . To update the content of these web pages follow these simple steps.</p>
<ol class="arabic simple">
<li><p>Check out a copy of the repository, and go to the docs/source sub directory.</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git clone https://github.com/NCAR/TAMURegionalCESM.git my_cresm_sandbox</span>
<span class="go">cd my_cresm_sandbox/docs/source</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>Edit the file or files that you are interested in. You can create new sections of the site by creating a new file with a “.rst” extension, and adding it’s name to the Table of Contents in the index.rst file. The new file must have the following code at the top of the file and content can be specified via HTML or <a class="reference external" href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">markdown</a>. So, a new file about ROMS configuration options, for example could be named “roms_config.rst” and the top of the file would look like:</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">.. _roms_config:</span>

<span class="go">==========================</span>
<span class="go">ROMS Configuration Options</span>
<span class="go">==========================</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Save and commit your changes to the repository master branch.</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git add filename.rst</span>
<span class="go">git commit</span>
<span class="go">git push</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Build the HTML pages from the documentation. (As of this writing, this does not work on Cheyenne, but does work on any CGD/NCAR linux cluster. The machine to build the source must have python and Sphinx installed.) The example code below works on any CGD linux machine:</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">module load lang/python/2.7.14</span>
<span class="go">make html</span>
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Copy the newly built html source into the gh-pages branch of the GitHub repository. This can be done by making an external copy of the source, switching to the gh-pages branch and then copying it back over.</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cp -r build/html/* ~/temp_html/</span>
<span class="go">git checkout --track origin/gh-pages</span>
<span class="go">cp -r ~/temp_html/* .</span>
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Commit and push the changes up to the remote.</p></li>
</ol>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git add *</span>
<span class="go">git commit -m &quot;Updating documentation&quot;</span>
<span class="go">git push</span>
</pre></div>
</div>
<p>Congratulations! The documentation website at <a class="reference external" href="https://ncar.github.io/TAMURegionalCESM">https://ncar.github.io/TAMURegionalCESM</a> should now be updated! You may need to wait a minute or two, or refresh the page a few times to clear the cashe before your changes show up.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="unfinished.html" class="btn btn-neutral float-right" title="Known Issues, Troubleshooting, and Future Work" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dev_changes.html" class="btn btn-neutral" title="Development Changes Made by NCAR" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, sphinx-themes.org.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> and ❤️  using a custom <a href="https://github.com/LinxiFan/Stanford-theme">theme</a> based on <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>